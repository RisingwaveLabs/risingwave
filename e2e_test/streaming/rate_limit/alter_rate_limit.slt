statement ok
CREATE TABLE t (v1 int);

statement ok
INSERT INTO t VALUES (1);

statement ok
flush;

statement ok
SET BACKGROUND_DDL=true;

statement ok
CREATE MATERIALIZED VIEW backfill_rate_limit_0 with ( backfill_rate_limit = 0 ) AS SELECT * FROM t;

skipif in-memory
sleep 1s

skipif in-memory
query I
select btrim(progress, '%')::double from rw_ddl_progress limit 1;
----
0

statement ok
ALTER MATERIALIZED VIEW backfill_rate_limit_0 SET BACKFILL_RATE_LIMIT = 1;

statement ok
wait;

skipif in-memory
query I
select * from backfill_rate_limit_0;
----
1

statement ok
DROP MATERIALIZED VIEW backfill_rate_limit_0;

statement ok
DROP TABLE t;