#!/usr/bin/env bash

if [[ $(cargo make --version) != "cargo-make 0.36"* ]]; then
    echo "Installing cargo-make..."
    cargo install cargo-make --version "^0.36" --locked
fi

touch risedev-components.user.env

if [ $# -eq 0 ] || [ "$1" == "-h" ] || [ "$1" ==  "--help" ]; then
    cargo make --list-all-steps
    exit 0
fi

cargo make configure-if-not-configured
cargo make "$@"
