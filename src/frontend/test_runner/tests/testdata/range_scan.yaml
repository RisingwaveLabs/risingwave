# This file is automatically generated. See `src/frontend/test_runner/README.md` for more information.
- id: create_table_and_mv
  sql: |
    CREATE TABLE orders (
            order_id BIGINT,
            user_id INTEGER,
            date INTEGER);
    CREATE MATERIALIZED VIEW orders_count_by_user AS
      SELECT user_id, date, count(*) AS orders_count FROM orders GROUP BY user_id, date;
- before:
    - create_table_and_mv
  sql: |
    SELECT * FROM orders_count_by_user WHERE user_id = 42
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchScan { table: orders_count_by_user, columns: [user_id, date, orders_count], scan_range: [user_id = 42:Int32] }
- before:
    - create_table_and_mv
  sql: |
    SELECT * FROM orders_count_by_user WHERE user_id < 43
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchScan { table: orders_count_by_user, columns: [user_id, date, orders_count], scan_range: [user_id < 43:Int32] }
- before:
    - create_table_and_mv
  sql: |
    SELECT * FROM orders_count_by_user WHERE user_id = 42 AND date = 1111
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchScan { table: orders_count_by_user, columns: [user_id, date, orders_count], scan_range: [user_id = 42:Int32, date = 1111:Int32] }
- before:
    - create_table_and_mv
  sql: |
    SELECT * FROM orders_count_by_user WHERE date > 1111 AND user_id = 42 AND 5<6 AND date <= 6666
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchFilter { predicate: (5:Int32 < 6:Int32) }
        BatchScan { table: orders_count_by_user, columns: [user_id, date, orders_count], scan_range: [user_id = 42:Int32, date > 1111:Int32 AND date <= 6666:Int32] }
- id: create_table_and_mv_ordered
  sql: |
    CREATE TABLE orders (
            order_id BIGINT,
            user_id INTEGER,
            date INTEGER);
    CREATE MATERIALIZED VIEW orders_count_by_user_ordered AS
      SELECT user_id, date, count(*) AS orders_count FROM orders
      GROUP BY user_id, date
      ORDER BY orders_count;
- before:
    - create_table_and_mv_ordered
  sql: |
    SELECT * FROM orders_count_by_user_ordered WHERE user_id = 42
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchFilter { predicate: ($0 = 42:Int32) }
        BatchScan { table: orders_count_by_user_ordered, columns: [user_id, date, orders_count] }
- before:
    - create_table_and_mv_ordered
  sql: |
    SELECT * FROM orders_count_by_user_ordered WHERE user_id > 42 AND orders_count = 10
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchScan { table: orders_count_by_user_ordered, columns: [user_id, date, orders_count], scan_range: [orders_count = 10:Int32, user_id > 42:Int32] }
- before:
    - create_table_and_mv_ordered
  sql: |
    SELECT * FROM orders_count_by_user_ordered WHERE orders_count = 10
  batch_plan: |
    BatchExchange { order: [], dist: Single }
      BatchScan { table: orders_count_by_user_ordered, columns: [user_id, date, orders_count], scan_range: [orders_count = 10:Int32] }
