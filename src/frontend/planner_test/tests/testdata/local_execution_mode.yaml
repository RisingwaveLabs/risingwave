# This file is automatically generated. See `src/frontend/planner_test/README.md` for more information.
- id: create_tables
  sql: |
    create table t (id int);
    create materialized view v as select count(*) cnt from t;
    SET query_mode TO local;
    select * from v join (select count(*) from t) T;
  batch_plan: |
    BatchNestedLoopJoin { type: Inner, predicate: true, output: all }
    ├─BatchScan { table: v, columns: [v.cnt], distribution: Single }
    └─BatchSimpleAgg { aggs: [sum0(count)] }
      └─BatchExchange { order: [], dist: Single }
        └─BatchSimpleAgg { aggs: [count] }
          └─BatchScan { table: t, columns: [], distribution: SomeShard }
