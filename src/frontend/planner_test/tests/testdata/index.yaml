# This file is automatically generated. See `src/frontend/planner_test/README.md` for more information.
- sql: |
    create table t1 (v1 int, v2 float);
    create table t2 (v3 int, v4 numeric, v5 bigint);
    create index t1_v1 on t1(v1) include(v2);
    create index t2_v3 on t2(v3) include(v4, v5);
    /* should generate delta join plan, and stream index scan */
    select * from t1, t2 where t1.v1 = t2.v3;
  stream_plan: |
    StreamMaterialize { columns: [v1, v2, v3, v4, v5, t1._row_id(hidden), t2._row_id(hidden)], pk_columns: [t1._row_id, t2._row_id, v1, v3] }
    └─StreamHashJoin { type: Inner, predicate: t1.v1 = t2.v3, output: [t1.v1, t1.v2, t2.v3, t2.v4, t2.v5, t1._row_id, t2._row_id] }
      ├─StreamExchange { dist: HashShard(t1.v1) }
      | └─StreamTableScan { table: t1, columns: [t1.v1, t1.v2, t1._row_id], pk: [t1._row_id], dist: UpstreamHashShard(t1._row_id) }
      └─StreamExchange { dist: HashShard(t2.v3) }
        └─StreamTableScan { table: t2, columns: [t2.v3, t2.v4, t2.v5, t2._row_id], pk: [t2._row_id], dist: UpstreamHashShard(t2._row_id) }
- id: index_slt
  sql: |
    create table iii_t1 (v1 int, v2 int);
    create table iii_t2 (v3 int, v4 int);
    create table iii_t3 (v5 int, v6 int);
    create materialized view iii_mv1 as select * from iii_t1, iii_t2, iii_t3 where iii_t1.v1 = iii_t2.v3 and iii_t1.v1 = iii_t3.v5;
    create index iii_index_1 on iii_t1(v1) include(v2);
    create index iii_index_2 on iii_t2(v3) include(v4);
- before:
  - index_slt
  sql: |
    select * from iii_t1, iii_t2 where iii_t1.v1 = iii_t2.v3;
  stream_plan: |
    StreamMaterialize { columns: [v1, v2, v3, v4, iii_t1._row_id(hidden), iii_t2._row_id(hidden)], pk_columns: [iii_t1._row_id, iii_t2._row_id, v1, v3] }
    └─StreamHashJoin { type: Inner, predicate: iii_t1.v1 = iii_t2.v3, output: [iii_t1.v1, iii_t1.v2, iii_t2.v3, iii_t2.v4, iii_t1._row_id, iii_t2._row_id] }
      ├─StreamExchange { dist: HashShard(iii_t1.v1) }
      | └─StreamTableScan { table: iii_t1, columns: [iii_t1.v1, iii_t1.v2, iii_t1._row_id], pk: [iii_t1._row_id], dist: UpstreamHashShard(iii_t1._row_id) }
      └─StreamExchange { dist: HashShard(iii_t2.v3) }
        └─StreamTableScan { table: iii_t2, columns: [iii_t2.v3, iii_t2.v4, iii_t2._row_id], pk: [iii_t2._row_id], dist: UpstreamHashShard(iii_t2._row_id) }
- before:
  - index_slt
  sql: |
    select v4 from iii_t1, iii_t2 where iii_t1.v1 = iii_t2.v3;
  stream_plan: |
    StreamMaterialize { columns: [v4, iii_t1._row_id(hidden), iii_t1.v1(hidden), iii_t2._row_id(hidden), iii_t2.v3(hidden)], pk_columns: [iii_t1._row_id, iii_t2._row_id, iii_t1.v1, iii_t2.v3] }
    └─StreamHashJoin { type: Inner, predicate: iii_t1.v1 = iii_t2.v3, output: [iii_t2.v4, iii_t1._row_id, iii_t1.v1, iii_t2._row_id, iii_t2.v3] }
      ├─StreamExchange { dist: HashShard(iii_t1.v1) }
      | └─StreamTableScan { table: iii_t1, columns: [iii_t1.v1, iii_t1._row_id], pk: [iii_t1._row_id], dist: UpstreamHashShard(iii_t1._row_id) }
      └─StreamExchange { dist: HashShard(iii_t2.v3) }
        └─StreamTableScan { table: iii_t2, columns: [iii_t2.v3, iii_t2.v4, iii_t2._row_id], pk: [iii_t2._row_id], dist: UpstreamHashShard(iii_t2._row_id) }
