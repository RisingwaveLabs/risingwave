# This file is automatically generated. See `src/frontend/planner_test/README.md` for more information.
- sql: |
    create table t1 (x int, y int);
    create view v1 as select x + y as z from t1 where y > 0;
    create view v2 as select x * z as a, y * z as b from t1, v1 where z = x;
    select * from v1, v2 where z = a;
  logical_plan: |
    LogicalProject { exprs: [$expr1, $expr2, $expr3] }
    └─LogicalFilter { predicate: ($expr1 = $expr2) }
      └─LogicalJoin { type: Inner, on: true, output: all }
        ├─LogicalShare { id = 3 }
        | └─LogicalProject { exprs: [(t1.x + t1.y) as $expr1] }
        |   └─LogicalFilter { predicate: (t1.y > 0:Int32) }
        |     └─LogicalScan { table: t1, columns: [t1.x, t1.y, t1._row_id] }
        └─LogicalShare { id = 7 }
          └─LogicalProject { exprs: [(t1.x * $expr1) as $expr2, (t1.y * $expr1) as $expr3] }
            └─LogicalFilter { predicate: ($expr1 = t1.x) }
              └─LogicalJoin { type: Inner, on: true, output: all }
                ├─LogicalScan { table: t1, columns: [t1.x, t1.y, t1._row_id] }
                └─LogicalShare { id = 3 }
                  └─LogicalProject { exprs: [(t1.x + t1.y) as $expr1] }
                    └─LogicalFilter { predicate: (t1.y > 0:Int32) }
                      └─LogicalScan { table: t1, columns: [t1.x, t1.y, t1._row_id] }
  stream_error: 'Permission denied: Materialized view cannot contain views'
